{"ast":null,"code":"import { ADD_TO_CART, UPDATE_CART, REMOVE_FROM_CART, SAVE_CART, RESET_CART } from \"../constants/constants\";\nexport const actions = {\n  ADD_TO_CART,\n  UPDATE_CART,\n  REMOVE_FROM_CART,\n  SAVE_CART,\n  RESET_CART\n};\n\nconst saveToLocalStorage = object => {\n  localStorage.setItem(\"pizzas\", JSON.stringify(object));\n};\n\nconst initialState = {\n  pizzas: JSON.parse(localStorage.getItem(\"pizzas\")) !== null ? JSON.parse(localStorage.getItem(\"pizzas\")) : []\n};\nexport default function onlineStoreApp(state = initialState, action) {\n  switch (action.type) {\n    case actions.ADD_TO_CART:\n      return Object.assign({}, state, {\n        pizzas: [...state.pizzas, action.payload]\n      });\n\n    case actions.UPDATE_CART:\n      return Object.assign({}, state, {\n        pizzas: state.pizzas.map(pizza => {\n          return pizza.id === action.payload.id ? Object.assign({}, pizza, {\n            quantity: action.payload.quantity\n          }) : pizza;\n        })\n      });\n\n    case actions.REMOVE_FROM_CART:\n      return Object.assign({}, state, {\n        pizzas: state.pizzas.filter(pizza => {\n          // eslint-disable-next-line eqeqeq\n          return pizza.id != action.payload;\n        })\n      });\n\n    case actions.SAVE_CART:\n      saveToLocalStorage(action.payload.pizzas);\n      return state;\n\n    case actions.RESET_CART:\n      saveToLocalStorage([]);\n      return Object.assign({}, state, {\n        pizzas: []\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/zululab/wwww/pizzasystem/frontend/src/reducers/reducers.js"],"names":["ADD_TO_CART","UPDATE_CART","REMOVE_FROM_CART","SAVE_CART","RESET_CART","actions","saveToLocalStorage","object","localStorage","setItem","JSON","stringify","initialState","pizzas","parse","getItem","onlineStoreApp","state","action","type","Object","assign","payload","map","pizza","id","quantity","filter"],"mappings":"AAAA,SACEA,WADF,EAEEC,WAFF,EAGEC,gBAHF,EAIEC,SAJF,EAKEC,UALF,QAMO,wBANP;AAQA,OAAO,MAAMC,OAAO,GAAG;AACrBL,EAAAA,WADqB;AAErBC,EAAAA,WAFqB;AAGrBC,EAAAA,gBAHqB;AAIrBC,EAAAA,SAJqB;AAKrBC,EAAAA;AALqB,CAAhB;;AAQP,MAAME,kBAAkB,GAAIC,MAAD,IAAY;AACrCC,EAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BC,IAAI,CAACC,SAAL,CAAeJ,MAAf,CAA/B;AACD,CAFD;;AAIA,MAAMK,YAAY,GAAG;AACnBC,EAAAA,MAAM,EACJH,IAAI,CAACI,KAAL,CAAWN,YAAY,CAACO,OAAb,CAAqB,QAArB,CAAX,MAA+C,IAA/C,GACIL,IAAI,CAACI,KAAL,CAAWN,YAAY,CAACO,OAAb,CAAqB,QAArB,CAAX,CADJ,GAEI;AAJa,CAArB;AAOA,eAAe,SAASC,cAAT,CAAwBC,KAAK,GAAGL,YAAhC,EAA8CM,MAA9C,EAAsD;AACnE,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKd,OAAO,CAACL,WAAb;AACE,aAAOoB,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,KAAlB,EAAyB;AAC9BJ,QAAAA,MAAM,EAAE,CAAC,GAAGI,KAAK,CAACJ,MAAV,EAAkBK,MAAM,CAACI,OAAzB;AADsB,OAAzB,CAAP;;AAGF,SAAKjB,OAAO,CAACJ,WAAb;AACE,aAAOmB,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,KAAlB,EAAyB;AAC9BJ,QAAAA,MAAM,EAAEI,KAAK,CAACJ,MAAN,CAAaU,GAAb,CAAkBC,KAAD,IAAW;AAClC,iBAAOA,KAAK,CAACC,EAAN,KAAaP,MAAM,CAACI,OAAP,CAAeG,EAA5B,GACHL,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBG,KAAlB,EAAyB;AACvBE,YAAAA,QAAQ,EAAER,MAAM,CAACI,OAAP,CAAeI;AADF,WAAzB,CADG,GAIHF,KAJJ;AAKD,SANO;AADsB,OAAzB,CAAP;;AAUF,SAAKnB,OAAO,CAACH,gBAAb;AACE,aAAOkB,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,KAAlB,EAAyB;AAC9BJ,QAAAA,MAAM,EAAEI,KAAK,CAACJ,MAAN,CAAac,MAAb,CAAqBH,KAAD,IAAW;AACrC;AACA,iBAAOA,KAAK,CAACC,EAAN,IAAYP,MAAM,CAACI,OAA1B;AACD,SAHO;AADsB,OAAzB,CAAP;;AAOF,SAAKjB,OAAO,CAACF,SAAb;AACEG,MAAAA,kBAAkB,CAACY,MAAM,CAACI,OAAP,CAAeT,MAAhB,CAAlB;AACA,aAAOI,KAAP;;AAEF,SAAKZ,OAAO,CAACD,UAAb;AACEE,MAAAA,kBAAkB,CAAC,EAAD,CAAlB;AAEA,aAAOc,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,KAAlB,EAAyB;AAC9BJ,QAAAA,MAAM,EAAE;AADsB,OAAzB,CAAP;;AAIF;AACE,aAAOI,KAAP;AApCJ;AAsCD","sourcesContent":["import {\n  ADD_TO_CART,\n  UPDATE_CART,\n  REMOVE_FROM_CART,\n  SAVE_CART,\n  RESET_CART,\n} from \"../constants/constants\";\n\nexport const actions = {\n  ADD_TO_CART,\n  UPDATE_CART,\n  REMOVE_FROM_CART,\n  SAVE_CART,\n  RESET_CART,\n};\n\nconst saveToLocalStorage = (object) => {\n  localStorage.setItem(\"pizzas\", JSON.stringify(object));\n};\n\nconst initialState = {\n  pizzas:\n    JSON.parse(localStorage.getItem(\"pizzas\")) !== null\n      ? JSON.parse(localStorage.getItem(\"pizzas\"))\n      : [],\n};\n\nexport default function onlineStoreApp(state = initialState, action) {\n  switch (action.type) {\n    case actions.ADD_TO_CART:\n      return Object.assign({}, state, {\n        pizzas: [...state.pizzas, action.payload],\n      });\n    case actions.UPDATE_CART:\n      return Object.assign({}, state, {\n        pizzas: state.pizzas.map((pizza) => {\n          return pizza.id === action.payload.id\n            ? Object.assign({}, pizza, {\n                quantity: action.payload.quantity,\n              })\n            : pizza;\n        }),\n      });\n\n    case actions.REMOVE_FROM_CART:\n      return Object.assign({}, state, {\n        pizzas: state.pizzas.filter((pizza) => {\n          // eslint-disable-next-line eqeqeq\n          return pizza.id != action.payload;\n        }),\n      });\n\n    case actions.SAVE_CART:\n      saveToLocalStorage(action.payload.pizzas);\n      return state;\n\n    case actions.RESET_CART:\n      saveToLocalStorage([]);\n\n      return Object.assign({}, state, {\n        pizzas: [],\n      });\n\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}