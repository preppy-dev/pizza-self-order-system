{"ast":null,"code":"import { CART_ADD_ITEM, CART_REMOVE_ITEM, ADD_TO_CART } from \"../constants/cartConstants\";\nimport axios from \"axios\";\nimport Cookie from \"js-cookie\";\n\nconst uid = () => Math.random().toString(34).slice(2);\n\nexport function addtoCart(productId, quantity) {\n  return {\n    type: ADD_TO_CART,\n    payload: {\n      _id: uid(),\n      quantity: quantity,\n      details: productId\n    }\n  };\n}\n\nconst addToCart = (productId, quantity) => async (dispatch, getState) => {\n  try {\n    const {\n      data\n    } = await axios.get(\"http://localhost:4000/api/products/\" + productId);\n    dispatch({\n      type: CART_ADD_ITEM,\n      payload: {\n        product: data._id,\n        category: data.category,\n        sabor: data.sabor,\n        image: data.image,\n        price: data.price,\n        ingredients: data.ingredients,\n        quantity\n      }\n    });\n    const {\n      cart: {\n        cartItems\n      }\n    } = getState();\n    Cookie.set(\"cartItems\", JSON.stringify(cartItems));\n  } catch (error) {}\n};\n\nconst removeFromCart = productId => (dispatch, getState) => {\n  dispatch({\n    type: CART_REMOVE_ITEM,\n    payload: productId\n  });\n  const {\n    cart: {\n      cartItems\n    }\n  } = getState();\n  Cookie.set(\"cartItems\", JSON.stringify(cartItems));\n};\n\nexport { addToCart, removeFromCart };","map":{"version":3,"sources":["/Users/zulu/wwww/pizza-system/frontend/src/actions/cartAction.js"],"names":["CART_ADD_ITEM","CART_REMOVE_ITEM","ADD_TO_CART","axios","Cookie","uid","Math","random","toString","slice","addtoCart","productId","quantity","type","payload","_id","details","addToCart","dispatch","getState","data","get","product","category","sabor","image","price","ingredients","cart","cartItems","set","JSON","stringify","error","removeFromCart"],"mappings":"AAAA,SACEA,aADF,EAEEC,gBAFF,EAGEC,WAHF,QAIO,4BAJP;AAKA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;;AAEA,MAAMC,GAAG,GAAG,MAAMC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,KAA3B,CAAiC,CAAjC,CAAlB;;AAEA,OAAO,SAASC,SAAT,CAAmBC,SAAnB,EAA8BC,QAA9B,EAAwC;AAC7C,SAAO;AACLC,IAAAA,IAAI,EAAEX,WADD;AAELY,IAAAA,OAAO,EAAE;AAAEC,MAAAA,GAAG,EAAEV,GAAG,EAAV;AAAcO,MAAAA,QAAQ,EAAEA,QAAxB;AAAkCI,MAAAA,OAAO,EAAEL;AAA3C;AAFJ,GAAP;AAID;;AAED,MAAMM,SAAS,GAAG,CAACN,SAAD,EAAYC,QAAZ,KAAyB,OAAOM,QAAP,EAAiBC,QAAjB,KAA8B;AACvE,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMjB,KAAK,CAACkB,GAAN,CACrB,wCAAwCV,SADnB,CAAvB;AAGAO,IAAAA,QAAQ,CAAC;AACPL,MAAAA,IAAI,EAAEb,aADC;AAEPc,MAAAA,OAAO,EAAE;AACPQ,QAAAA,OAAO,EAAEF,IAAI,CAACL,GADP;AAEPQ,QAAAA,QAAQ,EAAEH,IAAI,CAACG,QAFR;AAGPC,QAAAA,KAAK,EAAEJ,IAAI,CAACI,KAHL;AAIPC,QAAAA,KAAK,EAAEL,IAAI,CAACK,KAJL;AAKPC,QAAAA,KAAK,EAAEN,IAAI,CAACM,KALL;AAMPC,QAAAA,WAAW,EAAEP,IAAI,CAACO,WANX;AAOPf,QAAAA;AAPO;AAFF,KAAD,CAAR;AAaA,UAAM;AACJgB,MAAAA,IAAI,EAAE;AAAEC,QAAAA;AAAF;AADF,QAEFV,QAAQ,EAFZ;AAGAf,IAAAA,MAAM,CAAC0B,GAAP,CAAW,WAAX,EAAwBC,IAAI,CAACC,SAAL,CAAeH,SAAf,CAAxB;AACD,GArBD,CAqBE,OAAOI,KAAP,EAAc,CAAE;AACnB,CAvBD;;AAyBA,MAAMC,cAAc,GAAIvB,SAAD,IAAe,CAACO,QAAD,EAAWC,QAAX,KAAwB;AAC5DD,EAAAA,QAAQ,CAAC;AAAEL,IAAAA,IAAI,EAAEZ,gBAAR;AAA0Ba,IAAAA,OAAO,EAAEH;AAAnC,GAAD,CAAR;AAEA,QAAM;AACJiB,IAAAA,IAAI,EAAE;AAAEC,MAAAA;AAAF;AADF,MAEFV,QAAQ,EAFZ;AAGAf,EAAAA,MAAM,CAAC0B,GAAP,CAAW,WAAX,EAAwBC,IAAI,CAACC,SAAL,CAAeH,SAAf,CAAxB;AACD,CAPD;;AASA,SAASZ,SAAT,EAAoBiB,cAApB","sourcesContent":["import {\n  CART_ADD_ITEM,\n  CART_REMOVE_ITEM,\n  ADD_TO_CART,\n} from \"../constants/cartConstants\";\nimport axios from \"axios\";\nimport Cookie from \"js-cookie\";\n\nconst uid = () => Math.random().toString(34).slice(2);\n\nexport function addtoCart(productId, quantity) {\n  return {\n    type: ADD_TO_CART,\n    payload: { _id: uid(), quantity: quantity, details: productId },\n  };\n}\n\nconst addToCart = (productId, quantity) => async (dispatch, getState) => {\n  try {\n    const { data } = await axios.get(\n      \"http://localhost:4000/api/products/\" + productId\n    );\n    dispatch({\n      type: CART_ADD_ITEM,\n      payload: {\n        product: data._id,\n        category: data.category,\n        sabor: data.sabor,\n        image: data.image,\n        price: data.price,\n        ingredients: data.ingredients,\n        quantity,\n      },\n    });\n\n    const {\n      cart: { cartItems },\n    } = getState();\n    Cookie.set(\"cartItems\", JSON.stringify(cartItems));\n  } catch (error) {}\n};\n\nconst removeFromCart = (productId) => (dispatch, getState) => {\n  dispatch({ type: CART_REMOVE_ITEM, payload: productId });\n\n  const {\n    cart: { cartItems },\n  } = getState();\n  Cookie.set(\"cartItems\", JSON.stringify(cartItems));\n};\n\nexport { addToCart, removeFromCart };\n"]},"metadata":{},"sourceType":"module"}