{"ast":null,"code":"var _jsxFileName = \"/Users/zululab/wwww/pizza-system/frontend/src/pages/Check/index.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport HomebtImg from \"../../assets/homebotton.png\"; //import Subtract from \"../../assets/Subtract.png\";\n\nimport OneSubtract from \"../../assets/OneSubtract.png\";\nimport Plus from \"../../assets/Plus.png\";\nimport delect from \"../../assets/delect.png\";\nimport \"./Check.css\";\nimport { ModelContext } from \"../../Context/ModelContext\";\nimport { addToCart, removeFromCart } from \"../../actions/cartAction\";\nimport { testArray } from \"../PizzaSingle\";\nimport { useSelector, useDispatch } from \"react-redux\";\nvar cont = 1;\n\nconst Check = props => {\n  const dataIngredient = [{\n    name: \"Bacon\",\n    id: 1\n  }, {\n    name: \"Mozzarela\",\n    id: 2\n  }, {\n    name: \"Orégano\",\n    id: 3\n  }, {\n    name: \"Ham\",\n    id: 4\n  }, {\n    name: \"Tomato Sauce\",\n    id: 5\n  }, {\n    name: \"Fatias de Tomate\",\n    id: 6\n  }];\n  const cart = useSelector(state => state.cart);\n  const [dataIngredients, setDataIngredients] = useState([{\n    name: \"Bacon\",\n    id: 1\n  }, {\n    name: \"Mozzarela\",\n    id: 2\n  }, {\n    name: \"Orégano\",\n    id: 3\n  }, {\n    name: \"Ham\",\n    id: 4\n  }, {\n    name: \"Tomato Sauce\",\n    id: 5\n  }, {\n    name: \"Fatias de Tomate\",\n    id: 6\n  }]);\n  const {\n    cartItems\n  } = cart;\n  const [count, setCount] = useState(1);\n  const [asssada, setAssada] = useState();\n  const [remove, setRemove] = useState();\n  const [precoPizzaItem, setPrecoPizzaItem] = useState();\n  const {\n    setCurrentModel\n  } = useContext(ModelContext);\n\n  const openModel = () => setCurrentModel({\n    name: \"CheckModal\"\n  });\n\n  const redirectFunc = e => window.location = \"/confirmation\";\n\n  const productId = props.match.params.id;\n  const qty = props.location.search ? Number(props.location.search.split(\"=\")[1]) : 1;\n  const dispatch = useDispatch();\n\n  const removeFromCartHandler = productId => {\n    dispatch(removeFromCart(productId));\n  };\n\n  const update = action => {\n    if (action === \"increment\") {\n      setCount(count + 1);\n    }\n\n    if (action === \"decrement\") {\n      setCount(count - 1);\n    }\n  };\n\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCart(productId, qty));\n    }\n  }, [dispatch, productId, qty]);\n  /* \n  cb: () => {\n    setNames(names.filter(n => n.id !== id)); */\n\n  const deletes = id => {//setDataIngredients(dataIngredients.filter((el) => el.id !== id));\n  }; //ASADA FUNCTION\n\n\n  function testFunc() {\n    console.log(cont);\n\n    if (cont === 4) {\n      console.log(\"Entrou\");\n      cartItems.map(item => item.ingredients.map(l => {\n        for (let value of testArray) {\n          if (value === l._id) {\n            var element = document.querySelector(\"#ing\" + l._id);\n            element.classList.add(\"remove\");\n          }\n        }\n      }));\n    }\n\n    cont++;\n  }\n\n  function checkUseAsadaConfig() {\n    fetch(\"http://localhost:4000/api/config/session\").then(res => res.json()).then(data => {\n      if (data.assada === 0) {\n        setAssada(\"openModel\");\n      }\n\n      if (data.precoPizza === 0) {\n        setPrecoPizzaItem(\"precoPizza\");\n      }\n    });\n  }\n\n  checkUseAsadaConfig();\n  testFunc(); ///////////////////\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Check_main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"TopCheck\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"titlechecks\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, \" Seu pedido \"), /*#__PURE__*/React.createElement(Link, {\n    className: \"return\",\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: HomebtImg,\n    className: \"\",\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"check_main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }, cartItems.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, \"Cart is empty\") : cartItems.map(item => /*#__PURE__*/React.createElement(\"div\", {\n    key: item._id,\n    className: \"onepizzabox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pizzanameandprice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: process.env.PUBLIC_URL + `/assets/${item.category}/${item.image}`,\n    alt: \"Pizza\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pizzanameandpricemain\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 19\n    }\n  }, item.sabor), /*#__PURE__*/React.createElement(\"h3\", {\n    className: precoPizzaItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  }, item.price, \"$R\"))), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"pizzaItemsSelect\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }, item.ingredients.map(el => /*#__PURE__*/React.createElement(\"li\", {\n    className: remove,\n    id: \"ing\" + el._id,\n    key: el._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 19\n    }\n  }, el.ingrdientName + \",\"))), /*#__PURE__*/React.createElement(\"button\", {\n    value: item.qty,\n    onClick: () => {\n      if (count > 1) {\n        update(\"decrement\");\n      }\n    },\n    type: \"button\",\n    className: \"btn btn-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: OneSubtract,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"TotalPizzaSelects\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 15\n    }\n  }, count), /*#__PURE__*/React.createElement(\"button\", {\n    value: item.qty,\n    onClick: () => {\n      update(\"increment\");\n    },\n    type: \"button\",\n    className: \"btn btn-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Plus,\n    alt: \"plus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => removeFromCartHandler(item.product),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: delect,\n    alt: \"delect\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"check_Reorder\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"Reorder\",\n    to: \"/select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  }, \"ADICIONAR OUTRA PIZZA\")), /*#__PURE__*/React.createElement(Link, {\n    onClick: asssada === \"openModel\" ? openModel : redirectFunc,\n    className: \"Checkvalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 11\n    }\n  }, \"FINALIZAR PEDIDO\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"check_footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: `${precoPizzaItem} TotalPrice`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }\n  }, \"VALOR TOTAL : \", (qty * cartItems.length.price).toFixed(2), \" $R\"), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"TotalPizza\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }\n  }, \"PIZZA : \", cartItems.length)));\n};\n\nexport default Check;","map":{"version":3,"sources":["/Users/zululab/wwww/pizza-system/frontend/src/pages/Check/index.js"],"names":["React","useState","useContext","useEffect","Link","Redirect","HomebtImg","OneSubtract","Plus","delect","ModelContext","addToCart","removeFromCart","testArray","useSelector","useDispatch","cont","Check","props","dataIngredient","name","id","cart","state","dataIngredients","setDataIngredients","cartItems","count","setCount","asssada","setAssada","remove","setRemove","precoPizzaItem","setPrecoPizzaItem","setCurrentModel","openModel","redirectFunc","e","window","location","productId","match","params","qty","search","Number","split","dispatch","removeFromCartHandler","update","action","deletes","testFunc","console","log","map","item","ingredients","l","value","_id","element","document","querySelector","classList","add","checkUseAsadaConfig","fetch","then","res","json","data","assada","precoPizza","length","process","env","PUBLIC_URL","category","image","sabor","price","el","ingrdientName","product","toFixed"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,kBAA/B;AACA,OAAOC,SAAP,MAAsB,6BAAtB,C,CACA;;AACA,OAAOC,WAAP,MAAwB,8BAAxB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAO,aAAP;AACA,SAASC,YAAT,QAA6B,4BAA7B;AACA,SAASC,SAAT,EAAoBC,cAApB,QAA0C,0BAA1C;AACA,SAASC,SAAT,QAA0B,gBAA1B;AAEA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,IAAIC,IAAI,GAAG,CAAX;;AAEA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AACvB,QAAMC,cAAc,GAAG,CACrB;AAAEC,IAAAA,IAAI,EAAE,OAAR;AAAiBC,IAAAA,EAAE,EAAE;AAArB,GADqB,EAGrB;AAAED,IAAAA,IAAI,EAAE,WAAR;AAAqBC,IAAAA,EAAE,EAAE;AAAzB,GAHqB,EAIrB;AAAED,IAAAA,IAAI,EAAE,SAAR;AAAmBC,IAAAA,EAAE,EAAE;AAAvB,GAJqB,EAKrB;AAAED,IAAAA,IAAI,EAAE,KAAR;AAAeC,IAAAA,EAAE,EAAE;AAAnB,GALqB,EAMrB;AAAED,IAAAA,IAAI,EAAE,cAAR;AAAwBC,IAAAA,EAAE,EAAE;AAA5B,GANqB,EAOrB;AAAED,IAAAA,IAAI,EAAE,kBAAR;AAA4BC,IAAAA,EAAE,EAAE;AAAhC,GAPqB,CAAvB;AASA,QAAMC,IAAI,GAAGR,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACD,IAAlB,CAAxB;AACA,QAAM,CAACE,eAAD,EAAkBC,kBAAlB,IAAwCxB,QAAQ,CAAC,CACrD;AAAEmB,IAAAA,IAAI,EAAE,OAAR;AAAiBC,IAAAA,EAAE,EAAE;AAArB,GADqD,EAGrD;AAAED,IAAAA,IAAI,EAAE,WAAR;AAAqBC,IAAAA,EAAE,EAAE;AAAzB,GAHqD,EAIrD;AAAED,IAAAA,IAAI,EAAE,SAAR;AAAmBC,IAAAA,EAAE,EAAE;AAAvB,GAJqD,EAKrD;AAAED,IAAAA,IAAI,EAAE,KAAR;AAAeC,IAAAA,EAAE,EAAE;AAAnB,GALqD,EAMrD;AAAED,IAAAA,IAAI,EAAE,cAAR;AAAwBC,IAAAA,EAAE,EAAE;AAA5B,GANqD,EAOrD;AAAED,IAAAA,IAAI,EAAE,kBAAR;AAA4BC,IAAAA,EAAE,EAAE;AAAhC,GAPqD,CAAD,CAAtD;AAUA,QAAM;AAAEK,IAAAA;AAAF,MAAgBJ,IAAtB;AACA,QAAM,CAACK,KAAD,EAAQC,QAAR,IAAoB3B,QAAQ,CAAC,CAAD,CAAlC;AACA,QAAM,CAAC4B,OAAD,EAAUC,SAAV,IAAuB7B,QAAQ,EAArC;AACA,QAAM,CAAC8B,MAAD,EAASC,SAAT,IAAsB/B,QAAQ,EAApC;AACA,QAAM,CAACgC,cAAD,EAAiBC,iBAAjB,IAAsCjC,QAAQ,EAApD;AAEA,QAAM;AAAEkC,IAAAA;AAAF,MAAsBjC,UAAU,CAACQ,YAAD,CAAtC;;AACA,QAAM0B,SAAS,GAAG,MAAMD,eAAe,CAAC;AAAEf,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAvC;;AACA,QAAMiB,YAAY,GAAIC,CAAD,IAErBC,MAAM,CAACC,QAAP,GAAkB,eAFlB;;AAKA,QAAMC,SAAS,GAAGvB,KAAK,CAACwB,KAAN,CAAYC,MAAZ,CAAmBtB,EAArC;AACA,QAAMuB,GAAG,GAAG1B,KAAK,CAACsB,QAAN,CAAeK,MAAf,GACRC,MAAM,CAAC5B,KAAK,CAACsB,QAAN,CAAeK,MAAf,CAAsBE,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CAAD,CADE,GAER,CAFJ;AAIA,QAAMC,QAAQ,GAAGjC,WAAW,EAA5B;;AACA,QAAMkC,qBAAqB,GAAIR,SAAD,IAAe;AAC3CO,IAAAA,QAAQ,CAACpC,cAAc,CAAC6B,SAAD,CAAf,CAAR;AACD,GAFD;;AAIA,QAAMS,MAAM,GAAIC,MAAD,IAAY;AACzB,QAAIA,MAAM,KAAK,WAAf,EAA4B;AAC1BvB,MAAAA,QAAQ,CAACD,KAAK,GAAG,CAAT,CAAR;AACD;;AACD,QAAIwB,MAAM,KAAK,WAAf,EAA4B;AAC1BvB,MAAAA,QAAQ,CAACD,KAAK,GAAG,CAAT,CAAR;AACD;AACF,GAPD;;AASAxB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIsC,SAAJ,EAAe;AACbO,MAAAA,QAAQ,CAACrC,SAAS,CAAC8B,SAAD,EAAYG,GAAZ,CAAV,CAAR;AACD;AACF,GAJQ,EAIN,CAACI,QAAD,EAAWP,SAAX,EAAsBG,GAAtB,CAJM,CAAT;AAKA;;;;AAIA,QAAMQ,OAAO,GAAI/B,EAAD,IAAQ,CACtB;AACD,GAFD,CA9DuB,CAkEvB;;;AACA,WAASgC,QAAT,GAAoB;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAYvC,IAAZ;;AACA,QAAIA,IAAI,KAAK,CAAb,EAAgB;AACdsC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA7B,MAAAA,SAAS,CAAC8B,GAAV,CAAeC,IAAD,IACZA,IAAI,CAACC,WAAL,CAAiBF,GAAjB,CAAsBG,CAAD,IAAO;AAC1B,aAAK,IAAIC,KAAT,IAAkB/C,SAAlB,EAA6B;AAC3B,cAAI+C,KAAK,KAAKD,CAAC,CAACE,GAAhB,EAAqB;AACnB,gBAAIC,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,SAASL,CAAC,CAACE,GAAlC,CAAd;AACAC,YAAAA,OAAO,CAACG,SAAR,CAAkBC,GAAlB,CAAsB,QAAtB;AACD;AACF;AACF,OAPD,CADF;AAUD;;AACDlD,IAAAA,IAAI;AACL;;AAED,WAASmD,mBAAT,GAA+B;AAC7BC,IAAAA,KAAK,CAAC,0CAAD,CAAL,CACGC,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESG,IAAD,IAAU;AACd,UAAIA,IAAI,CAACC,MAAL,KAAgB,CAApB,EAAuB;AACrB3C,QAAAA,SAAS,CAAC,WAAD,CAAT;AACD;;AAED,UAAI0C,IAAI,CAACE,UAAL,KAAoB,CAAxB,EAA2B;AACzBxC,QAAAA,iBAAiB,CAAC,YAAD,CAAjB;AACD;AACF,KAVH;AAWD;;AACDiC,EAAAA,mBAAmB;AACnBd,EAAAA,QAAQ,GAnGe,CAoGvB;;AAEA,sBACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,QAAhB;AAAyB,IAAA,EAAE,EAAC,GAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAE/C,SAAV;AAAqB,IAAA,SAAS,EAAC,EAA/B;AAAkC,IAAA,GAAG,EAAC,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,CADF,CADF,eAUE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGoB,SAAS,CAACiD,MAAV,KAAqB,CAArB,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADD,GAGCjD,SAAS,CAAC8B,GAAV,CAAeC,IAAD,iBACZ;AAAK,IAAA,GAAG,EAAEA,IAAI,CAACI,GAAf;AAAoB,IAAA,SAAS,EAAC,aAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EACDe,OAAO,CAACC,GAAR,CAAYC,UAAZ,GACC,WAAUrB,IAAI,CAACsB,QAAS,IAAGtB,IAAI,CAACuB,KAAM,EAH3C;AAKE,IAAA,GAAG,EAAC,OALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAQE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKvB,IAAI,CAACwB,KAAV,CADF,eAEE;AAAI,IAAA,SAAS,EAAEhD,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAgCwB,IAAI,CAACyB,KAArC,OAFF,CARF,CADF,eAeE;AAAI,IAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGzB,IAAI,CAACC,WAAL,CAAiBF,GAAjB,CAAsB2B,EAAD,iBACpB;AAAI,IAAA,SAAS,EAAEpD,MAAf;AAAuB,IAAA,EAAE,EAAE,QAAQoD,EAAE,CAACtB,GAAtC;AAA2C,IAAA,GAAG,EAAEsB,EAAE,CAACtB,GAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGsB,EAAE,CAACC,aAAH,GAAmB,GADtB,CADD,CADH,CAfF,eA2BE;AACE,IAAA,KAAK,EAAE3B,IAAI,CAACb,GADd;AAEE,IAAA,OAAO,EAAE,MAAM;AACb,UAAIjB,KAAK,GAAG,CAAZ,EAAe;AACbuB,QAAAA,MAAM,CAAC,WAAD,CAAN;AACD;AACF,KANH;AAOE,IAAA,IAAI,EAAC,QAPP;AAQE,IAAA,SAAS,EAAC,mBARZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUE;AAAK,IAAA,GAAG,EAAE3C,WAAV;AAAuB,IAAA,GAAG,EAAC,EAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CA3BF,eAuCE;AAAI,IAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAmCoB,KAAnC,CAvCF,eAyCE;AACE,IAAA,KAAK,EAAE8B,IAAI,CAACb,GADd;AAEE,IAAA,OAAO,EAAE,MAAM;AACbM,MAAAA,MAAM,CAAC,WAAD,CAAN;AACD,KAJH;AAKE,IAAA,IAAI,EAAC,QALP;AAME,IAAA,SAAS,EAAC,mBANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQE;AAAK,IAAA,GAAG,EAAE1C,IAAV;AAAgB,IAAA,GAAG,EAAC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CAzCF,eAmDE;AAAQ,IAAA,OAAO,EAAE,MAAMyC,qBAAqB,CAACQ,IAAI,CAAC4B,OAAN,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAE5E,MAAV;AAAkB,IAAA,GAAG,EAAC,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAnDF,CADF,CAJJ,CAVF,eA0EE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,SAAhB;AAA0B,IAAA,EAAE,EAAC,SAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,CADF,eAIE,oBAAC,IAAD;AACE,IAAA,OAAO,EAAEoB,OAAO,KAAK,WAAZ,GAA0BO,SAA1B,GAAsCC,YADjD;AAEE,IAAA,SAAS,EAAC,YAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJF,CAJF,CA1EF,eAsFE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAG,GAAEJ,cAAe,aAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACiB,CAACW,GAAG,GAAGlB,SAAS,CAACiD,MAAV,CAAiBO,KAAxB,EAA+BI,OAA/B,CAAuC,CAAvC,CADjB,QADF,eAKE;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAoC5D,SAAS,CAACiD,MAA9C,CALF,CAtFF,CADF;AAgGD,CAtMD;;AAwMA,eAAe1D,KAAf","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport HomebtImg from \"../../assets/homebotton.png\";\n//import Subtract from \"../../assets/Subtract.png\";\nimport OneSubtract from \"../../assets/OneSubtract.png\";\nimport Plus from \"../../assets/Plus.png\";\nimport delect from \"../../assets/delect.png\";\nimport \"./Check.css\";\nimport { ModelContext } from \"../../Context/ModelContext\";\nimport { addToCart, removeFromCart } from \"../../actions/cartAction\";\nimport { testArray } from \"../PizzaSingle\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\n\nvar cont = 1;\n\nconst Check = (props) => {\n  const dataIngredient = [\n    { name: \"Bacon\", id: 1 },\n\n    { name: \"Mozzarela\", id: 2 },\n    { name: \"Orégano\", id: 3 },\n    { name: \"Ham\", id: 4 },\n    { name: \"Tomato Sauce\", id: 5 },\n    { name: \"Fatias de Tomate\", id: 6 },\n  ];\n  const cart = useSelector((state) => state.cart);\n  const [dataIngredients, setDataIngredients] = useState([\n    { name: \"Bacon\", id: 1 },\n\n    { name: \"Mozzarela\", id: 2 },\n    { name: \"Orégano\", id: 3 },\n    { name: \"Ham\", id: 4 },\n    { name: \"Tomato Sauce\", id: 5 },\n    { name: \"Fatias de Tomate\", id: 6 },\n  ]);\n\n  const { cartItems } = cart;\n  const [count, setCount] = useState(1);\n  const [asssada, setAssada] = useState();\n  const [remove, setRemove] = useState();\n  const [precoPizzaItem, setPrecoPizzaItem] = useState();\n\n  const { setCurrentModel } = useContext(ModelContext);\n  const openModel = () => setCurrentModel({ name: \"CheckModal\" });\n  const redirectFunc = (e) => (\n    \n  window.location = \"/confirmation\"\n  )\n\n  const productId = props.match.params.id;\n  const qty = props.location.search\n    ? Number(props.location.search.split(\"=\")[1])\n    : 1;\n\n  const dispatch = useDispatch();\n  const removeFromCartHandler = (productId) => {\n    dispatch(removeFromCart(productId));\n  };\n\n  const update = (action) => {\n    if (action === \"increment\") {\n      setCount(count + 1);\n    }\n    if (action === \"decrement\") {\n      setCount(count - 1);\n    }\n  };\n\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCart(productId, qty));\n    }\n  }, [dispatch, productId, qty]);\n  /* \n  cb: () => {\n    setNames(names.filter(n => n.id !== id)); */\n\n  const deletes = (id) => {\n    //setDataIngredients(dataIngredients.filter((el) => el.id !== id));\n  };\n\n  //ASADA FUNCTION\n  function testFunc() {\n    console.log(cont);\n    if (cont === 4) {\n      console.log(\"Entrou\");\n      cartItems.map((item) =>\n        item.ingredients.map((l) => {\n          for (let value of testArray) {\n            if (value === l._id) {\n              var element = document.querySelector(\"#ing\" + l._id);\n              element.classList.add(\"remove\");\n            }\n          }\n        })\n      );\n    }\n    cont++;\n  }\n\n  function checkUseAsadaConfig() {\n    fetch(\"http://localhost:4000/api/config/session\")\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.assada === 0) {\n          setAssada(\"openModel\");\n        }\n\n        if (data.precoPizza === 0) {\n          setPrecoPizzaItem(\"precoPizza\");\n        }\n      });\n  }\n  checkUseAsadaConfig();\n  testFunc();\n  ///////////////////\n\n  return (\n    <div className=\"Check\">\n      <div className=\"Check_main\">\n        <div className=\"TopCheck\">\n          <h1 className=\"titlechecks\"> Seu pedido </h1>\n          <Link className=\"return\" to=\"/\">\n            <img src={HomebtImg} className=\"\" alt=\"logo\" />\n          </Link>\n        </div>\n      </div>\n\n      <div className=\"check_main\">\n        {cartItems.length === 0 ? (\n          <div>Cart is empty</div>\n        ) : (\n          cartItems.map((item) => (\n            <div key={item._id} className=\"onepizzabox\">\n              <div className=\"pizzanameandprice\">\n                <img\n                  src={\n                    process.env.PUBLIC_URL +\n                    `/assets/${item.category}/${item.image}`\n                  }\n                  alt=\"Pizza\"\n                />\n                <div className=\"pizzanameandpricemain\">\n                  <h2>{item.sabor}</h2>\n                  <h3 className={precoPizzaItem}>{item.price}$R</h3>\n                </div>\n              </div>\n\n              <ul className=\"pizzaItemsSelect\">\n                {item.ingredients.map((el) => (\n                  <li className={remove} id={\"ing\" + el._id} key={el._id}>\n                    {el.ingrdientName + \",\"}\n                  </li>\n                ))}\n              </ul>\n\n              {/* <p className=\"pizzaItemsSelect\">\n                Bacon, Mozzarela , Orégano ,Ham ,Tomato Sauce, Fatias de Tomate\n              </p> */}\n\n              <button\n                value={item.qty}\n                onClick={() => {\n                  if (count > 1) {\n                    update(\"decrement\");\n                  }\n                }}\n                type=\"button\"\n                className=\"btn btn-secondary\"\n              >\n                <img src={OneSubtract} alt=\"\" />\n              </button>\n              <h1 className=\"TotalPizzaSelects\">{count}</h1>\n\n              <button\n                value={item.qty}\n                onClick={() => {\n                  update(\"increment\");\n                }}\n                type=\"button\"\n                className=\"btn btn-secondary\"\n              >\n                <img src={Plus} alt=\"plus\" />\n              </button>\n              <button onClick={() => removeFromCartHandler(item.product)}>\n                <img src={delect} alt=\"delect\" />\n              </button>\n            </div>\n          ))\n        )}\n      </div>\n\n      <div className=\"check_Reorder\">\n        <Link className=\"Reorder\" to=\"/select\">\n          <h1>ADICIONAR OUTRA PIZZA</h1>\n        </Link>\n        <Link\n          onClick={asssada === \"openModel\" ? openModel : redirectFunc}\n          className=\"Checkvalid\"\n        >\n          <h1>FINALIZAR PEDIDO</h1>\n        </Link>\n      </div>\n\n      <div className=\"check_footer\">\n        <h1 className={`${precoPizzaItem} TotalPrice`}>\n          VALOR TOTAL : {(qty * cartItems.length.price).toFixed(2)} $R\n        </h1>\n\n        <h1 className=\"TotalPizza\">PIZZA : {cartItems.length}</h1>\n      </div>\n    </div>\n  );\n};\n\nexport default Check;\n"]},"metadata":{},"sourceType":"module"}