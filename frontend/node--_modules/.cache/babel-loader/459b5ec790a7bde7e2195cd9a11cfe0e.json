{"ast":null,"code":"import _toConsumableArray from\"/Users/zululab/wwww/pizzasystem/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{ADD_TO_CART,UPDATE_CART,REMOVE_FROM_CART,SAVE_CART,RESET_CART}from\"../constants/constants\";export var actions={ADD_TO_CART:ADD_TO_CART,UPDATE_CART:UPDATE_CART,REMOVE_FROM_CART:REMOVE_FROM_CART,SAVE_CART:SAVE_CART,RESET_CART:RESET_CART};var saveToLocalStorage=function saveToLocalStorage(object){localStorage.setItem(\"pizzas\",JSON.stringify(object));};var initialState={pizzas:JSON.parse(localStorage.getItem(\"pizzas\"))!==null?JSON.parse(localStorage.getItem(\"pizzas\")):[]};export default function onlineStoreApp(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case actions.ADD_TO_CART:return Object.assign({},state,{pizzas:[].concat(_toConsumableArray(state.pizzas),[action.payload])});case actions.UPDATE_CART:return Object.assign({},state,{pizzas:state.pizzas.map(function(pizza){return pizza.id===action.payload.id?Object.assign({},pizza,{quantity:action.payload.quantity}):pizza;})});case actions.REMOVE_FROM_CART:return Object.assign({},state,{pizzas:state.pizzas.filter(function(pizza){// eslint-disable-next-line eqeqeq\nreturn pizza.id!=action.payload;})});case actions.SAVE_CART:saveToLocalStorage(action.payload.pizzas);return state;case actions.RESET_CART:saveToLocalStorage([]);return Object.assign({},state,{pizzas:[]});default:return state;}}","map":{"version":3,"sources":["/Users/zululab/wwww/pizzasystem/frontend/src/reducers/reducers.js"],"names":["ADD_TO_CART","UPDATE_CART","REMOVE_FROM_CART","SAVE_CART","RESET_CART","actions","saveToLocalStorage","object","localStorage","setItem","JSON","stringify","initialState","pizzas","parse","getItem","onlineStoreApp","state","action","type","Object","assign","payload","map","pizza","id","quantity","filter"],"mappings":"uKAAA,OACEA,WADF,CAEEC,WAFF,CAGEC,gBAHF,CAIEC,SAJF,CAKEC,UALF,KAMO,wBANP,CAQA,MAAO,IAAMC,CAAAA,OAAO,CAAG,CACrBL,WAAW,CAAXA,WADqB,CAErBC,WAAW,CAAXA,WAFqB,CAGrBC,gBAAgB,CAAhBA,gBAHqB,CAIrBC,SAAS,CAATA,SAJqB,CAKrBC,UAAU,CAAVA,UALqB,CAAhB,CAQP,GAAME,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,MAAD,CAAY,CACrCC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA+BC,IAAI,CAACC,SAAL,CAAeJ,MAAf,CAA/B,EACD,CAFD,CAIA,GAAMK,CAAAA,YAAY,CAAG,CACnBC,MAAM,CACJH,IAAI,CAACI,KAAL,CAAWN,YAAY,CAACO,OAAb,CAAqB,QAArB,CAAX,IAA+C,IAA/C,CACIL,IAAI,CAACI,KAAL,CAAWN,YAAY,CAACO,OAAb,CAAqB,QAArB,CAAX,CADJ,CAEI,EAJa,CAArB,CAOA,cAAe,SAASC,CAAAA,cAAT,EAAsD,IAA9BC,CAAAA,KAA8B,2DAAtBL,YAAsB,IAARM,CAAAA,MAAQ,2CACnE,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKd,CAAAA,OAAO,CAACL,WAAb,CACE,MAAOoB,CAAAA,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBJ,KAAlB,CAAyB,CAC9BJ,MAAM,8BAAMI,KAAK,CAACJ,MAAZ,GAAoBK,MAAM,CAACI,OAA3B,EADwB,CAAzB,CAAP,CAGF,IAAKjB,CAAAA,OAAO,CAACJ,WAAb,CACE,MAAOmB,CAAAA,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBJ,KAAlB,CAAyB,CAC9BJ,MAAM,CAAEI,KAAK,CAACJ,MAAN,CAAaU,GAAb,CAAiB,SAACC,KAAD,CAAW,CAClC,MAAOA,CAAAA,KAAK,CAACC,EAAN,GAAaP,MAAM,CAACI,OAAP,CAAeG,EAA5B,CACHL,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBG,KAAlB,CAAyB,CACvBE,QAAQ,CAAER,MAAM,CAACI,OAAP,CAAeI,QADF,CAAzB,CADG,CAIHF,KAJJ,CAKD,CANO,CADsB,CAAzB,CAAP,CAUF,IAAKnB,CAAAA,OAAO,CAACH,gBAAb,CACE,MAAOkB,CAAAA,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBJ,KAAlB,CAAyB,CAC9BJ,MAAM,CAAEI,KAAK,CAACJ,MAAN,CAAac,MAAb,CAAoB,SAACH,KAAD,CAAW,CACrC;AACA,MAAOA,CAAAA,KAAK,CAACC,EAAN,EAAYP,MAAM,CAACI,OAA1B,CACD,CAHO,CADsB,CAAzB,CAAP,CAOF,IAAKjB,CAAAA,OAAO,CAACF,SAAb,CACEG,kBAAkB,CAACY,MAAM,CAACI,OAAP,CAAeT,MAAhB,CAAlB,CACA,MAAOI,CAAAA,KAAP,CAEF,IAAKZ,CAAAA,OAAO,CAACD,UAAb,CACEE,kBAAkB,CAAC,EAAD,CAAlB,CAEA,MAAOc,CAAAA,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBJ,KAAlB,CAAyB,CAC9BJ,MAAM,CAAE,EADsB,CAAzB,CAAP,CAIF,QACE,MAAOI,CAAAA,KAAP,CApCJ,CAsCD","sourcesContent":["import {\n  ADD_TO_CART,\n  UPDATE_CART,\n  REMOVE_FROM_CART,\n  SAVE_CART,\n  RESET_CART,\n} from \"../constants/constants\";\n\nexport const actions = {\n  ADD_TO_CART,\n  UPDATE_CART,\n  REMOVE_FROM_CART,\n  SAVE_CART,\n  RESET_CART,\n};\n\nconst saveToLocalStorage = (object) => {\n  localStorage.setItem(\"pizzas\", JSON.stringify(object));\n};\n\nconst initialState = {\n  pizzas:\n    JSON.parse(localStorage.getItem(\"pizzas\")) !== null\n      ? JSON.parse(localStorage.getItem(\"pizzas\"))\n      : [],\n};\n\nexport default function onlineStoreApp(state = initialState, action) {\n  switch (action.type) {\n    case actions.ADD_TO_CART:\n      return Object.assign({}, state, {\n        pizzas: [...state.pizzas, action.payload],\n      });\n    case actions.UPDATE_CART:\n      return Object.assign({}, state, {\n        pizzas: state.pizzas.map((pizza) => {\n          return pizza.id === action.payload.id\n            ? Object.assign({}, pizza, {\n                quantity: action.payload.quantity,\n              })\n            : pizza;\n        }),\n      });\n\n    case actions.REMOVE_FROM_CART:\n      return Object.assign({}, state, {\n        pizzas: state.pizzas.filter((pizza) => {\n          // eslint-disable-next-line eqeqeq\n          return pizza.id != action.payload;\n        }),\n      });\n\n    case actions.SAVE_CART:\n      saveToLocalStorage(action.payload.pizzas);\n      return state;\n\n    case actions.RESET_CART:\n      saveToLocalStorage([]);\n\n      return Object.assign({}, state, {\n        pizzas: [],\n      });\n\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}