{"ast":null,"code":"var _jsxFileName = \"C:\\\\www\\\\pizza-system\\\\frontend\\\\src\\\\pages\\\\Sabores\\\\index.js\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport PizzaCardList from \"../../components/PizzaCardList\";\nimport HomeButton from \"../../components/HomeButton\";\nimport { listProducts } from \"../../actions/productActions\"; //import Pagination from \"../../components/Pagination\";\n\nimport { Pagination, Spin } from \"antd\";\nimport { DownOutlined, UpOutlined, LoadingOutlined } from \"@ant-design/icons\";\nimport \"tachyons\";\nimport \"./Sabores.css\";\nimport returnImg from \"../../assets/return.png\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { toArray } from \"antd/lib/form/util\";\nimport { apiConfig } from \"../../services/api\"; //import axios from 'axios';\n//class Sabores extends React.Component\n\nconst Sabores = props => {\n  console.log(props);\n  const dispatch = useDispatch();\n  const inputRef = useRef();\n  const category = props.match.params.id ? props.match.params.id : \"\";\n  const productList = useSelector(state => state.productList);\n  const {\n    products,\n    loading,\n    error\n  } = productList;\n  const [productsPerPage, setProductsPerPage] = useState(8);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [allProductslist, setallProductslist] = useState([]);\n  const [backgroundImg, setBgImage] = useState();\n  const [backSatateSelect, setbackSatateSelect] = useState();\n  /* configuração API */\n\n  useEffect(() => {\n    fetch(apiConfig).then(res => res.json()).then(data => {\n      //setBgImage(data.telaInicial);\n      setBgImage(data.telasabores);\n    });\n  }, [setBgImage]);\n  useEffect(() => {\n    fetch(apiConfig).then(res => res.json()).then(data => {\n      //console.log(data);\n      if (data.categoria === 1) {\n        setbackSatateSelect(\"/select\");\n      } else {\n        setbackSatateSelect(\"/tipo\");\n      }\n    });\n  }, [setbackSatateSelect]);\n  /* configuração API fim */\n\n  useEffect(() => {\n    fetch(\"http://192.168.1.104:4000/api/products\").then(res => res.json()).then(data => {\n      console.log(...toArray(data)); //setBgImage(data.telaInicial);\n\n      setallProductslist(() => {\n        return [...toArray(data)];\n      });\n      console.log(allProductslist);\n    });\n  }, [setallProductslist]);\n  useEffect(() => {\n    dispatch(listProducts(category));\n    console.log(category);\n  }, [category, dispatch, currentPage, productsPerPage]); // Get current posts\n\n  const indexOfLastProducts = currentPage * productsPerPage;\n  const indexOfFirstProducts = indexOfLastProducts - productsPerPage;\n  const currentProducts = products.slice(indexOfFirstProducts, indexOfLastProducts);\n  const antIcon = /*#__PURE__*/React.createElement(LoadingOutlined, {\n    style: {\n      fontSize: 24\n    },\n    spin: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 19\n    }\n  }); // Change page\n\n  function itemRender(currentPage, type, originalElement) {\n    if (type === \"prev\") {\n      return /*#__PURE__*/React.createElement(UpOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 14\n        }\n      });\n    }\n\n    if (type === \"next\") {\n      return /*#__PURE__*/React.createElement(DownOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 14\n        }\n      });\n    }\n\n    return originalElement;\n  } //LoadProducts();\n\n\n  return loading ? /*#__PURE__*/React.createElement(Spin, {\n    tip: \"...\",\n    indicator: antIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }) : error ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }\n  }, error) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Sabores\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundImage: backgroundImg\n    },\n    className: \"sabores_main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"TopSabores\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"titlesabores\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, \" Escolha sua pizza \"), /*#__PURE__*/React.createElement(Link, {\n    className: \"return\",\n    to: backSatateSelect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: returnImg,\n    className: \"\",\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(HomeButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(PizzaCardList, {\n    ref: inputRef,\n    products: currentProducts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    className: \"saborespagination\",\n    productsPerPage: productsPerPage,\n    onShowSizeChange: setProductsPerPage,\n    simple: true,\n    total: products.length,\n    defaultCurrent: currentPage,\n    itemRender: itemRender,\n    onChange: setCurrentPage,\n    hideOnSinglePage: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }))));\n};\n\nexport default withRouter(Sabores);","map":{"version":3,"sources":["C:/www/pizza-system/frontend/src/pages/Sabores/index.js"],"names":["React","useState","useEffect","useRef","Link","withRouter","PizzaCardList","HomeButton","listProducts","Pagination","Spin","DownOutlined","UpOutlined","LoadingOutlined","returnImg","useSelector","useDispatch","toArray","apiConfig","Sabores","props","console","log","dispatch","inputRef","category","match","params","id","productList","state","products","loading","error","productsPerPage","setProductsPerPage","currentPage","setCurrentPage","allProductslist","setallProductslist","backgroundImg","setBgImage","backSatateSelect","setbackSatateSelect","fetch","then","res","json","data","telasabores","categoria","indexOfLastProducts","indexOfFirstProducts","currentProducts","slice","antIcon","fontSize","itemRender","type","originalElement","backgroundImage","length"],"mappings":"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","sourcesContent":["import React, {useState, useEffect,useRef } from \"react\";\nimport { Link,withRouter} from \"react-router-dom\";\nimport PizzaCardList from \"../../components/PizzaCardList\";\nimport HomeButton from \"../../components/HomeButton\";\nimport { listProducts } from \"../../actions/productActions\";\n//import Pagination from \"../../components/Pagination\";\nimport { Pagination, Spin } from \"antd\";\nimport { DownOutlined, UpOutlined, LoadingOutlined } from \"@ant-design/icons\";\nimport \"tachyons\";\nimport \"./Sabores.css\";\nimport returnImg from \"../../assets/return.png\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { toArray } from \"antd/lib/form/util\";\nimport {apiConfig} from \"../../services/api\"\n\n\n//import axios from 'axios';\n\n//class Sabores extends React.Component\n\nconst Sabores = (props) => {\n  console.log(props)\n  const dispatch = useDispatch();\n  const inputRef = useRef();\n  const category = props.match.params.id ? props.match.params.id : \"\";\n  const productList = useSelector((state) => state.productList);\n  const { products, loading, error } = productList;\n\n  const [productsPerPage, setProductsPerPage] = useState(8);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const [allProductslist, setallProductslist] = useState([]);\n  const [backgroundImg, setBgImage] = useState();\n  const [backSatateSelect, setbackSatateSelect] = useState();\n\n\n/* configuração API */\nuseEffect(() => {\n  fetch(apiConfig)\n      .then((res) => res.json())\n      .then((data) => {\n        //setBgImage(data.telaInicial);\n        setBgImage(data.telasabores);\n      });\n}, [setBgImage])\n\nuseEffect(() => {\n  fetch(apiConfig)\n    .then((res) => res.json())\n    .then((data) => {\n      //console.log(data);\n      if (data.categoria === 1) {\n        setbackSatateSelect(\"/select\");\n      } else {\n        setbackSatateSelect(\"/tipo\");\n      }\n    });\n}, [setbackSatateSelect])\n\n/* configuração API fim */\n\n  useEffect(()=>{\n    fetch(\"http://192.168.1.104:4000/api/products\")\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(...toArray(data))\n        //setBgImage(data.telaInicial);\n        setallProductslist(()=>{\n          return [...toArray(data)]\n        });\n        console.log(allProductslist)\n      });\n  },[setallProductslist])\n\n  useEffect(() => {\n    dispatch(listProducts(category));\n    console.log(category)\n  }, [category, dispatch, currentPage, productsPerPage]);\n  // Get current posts\n  const indexOfLastProducts = currentPage * productsPerPage;\n  const indexOfFirstProducts = indexOfLastProducts - productsPerPage;\n  const currentProducts = products.slice(\n    indexOfFirstProducts,\n    indexOfLastProducts\n  );\n\n  const antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\n\n  // Change page\n  function itemRender(currentPage, type, originalElement) {\n    if (type === \"prev\") {\n      return <UpOutlined />;\n    }\n    if (type === \"next\") {\n      return <DownOutlined />;\n    }\n    return originalElement;\n  }\n\n\n  //LoadProducts();\n\n  return loading ? (\n    <Spin tip=\"...\" indicator={antIcon} />\n  ) : error ? (\n    <div>{error}</div>\n  ) :  (\n    \n      <div  className=\"Sabores\">\n        <div style={{ backgroundImage: backgroundImg }} className=\"sabores_main\">\n          <div className=\"TopSabores\">\n            <h1 className=\"titlesabores\"> Escolha sua pizza </h1>\n            <Link className=\"return\" to={backSatateSelect}>\n              <img src={returnImg} className=\"\" alt=\"logo\" />\n            </Link>\n            <HomeButton/>\n           \n          </div>\n          \n\n              \n          <PizzaCardList ref={inputRef} products={currentProducts} />\n         \n\n          <div >\n            <Pagination\n            className=\"saborespagination\"\n              productsPerPage={productsPerPage}\n              onShowSizeChange={setProductsPerPage}\n              simple\n              total={products.length}\n              defaultCurrent={currentPage}\n              itemRender={itemRender}\n              onChange={setCurrentPage}\n              hideOnSinglePage\n            />\n          </div>\n        </div>\n      </div>\n   \n  );\n};\n\nexport default withRouter(Sabores);\n"]},"metadata":{},"sourceType":"module"}